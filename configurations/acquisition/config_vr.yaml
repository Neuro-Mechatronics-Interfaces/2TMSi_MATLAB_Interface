#CONFIG_VR.YAML  Set the configuration for TMSiSAGA units to be used as "A" and "B" -- FOR "_PLUS" version ONLY
#
# These header notes are split up according to the top-level fields.
#
# -- SAGA --
#  -> Currently, only supports 2 SAGA at a time.
#  -> Valid options for "Unit" property of each are:
#     - "SAGA1"
#     - "SAGA2"
#     - "SAGA3"
#     - "SAGA4"
#     - "SAGA5"
#     - "SAGAA"
#     - "SAGAB"
#
# MAKE SURE TO KEEP TRACK OF WHICH UNIT IS ASSIGNED TAG "A" AND "B"
#   -> THIS IS CRITICAL FOR KEEPING TRACK OF WHICH LEADS WENT WHERE!
#
# TO ONLY USE 1 SAGA, SET `Enable: false` ON THE CORRESPONDING UNIT.

SAGA:
 A: 
   Enable: true
   FileType: ".mat"
   Unit: "SAGAA"
   # Unit: "SAGA5"
   Array: 
    Type: "Large Grid"
    Location: "A_DISTEXT"
   Trigger:
    Channel: 73
    Bit: 1
   Channels:
    CREF: 1
    UNI: [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65]
    BIP: [66,67,68,69]
    AUX: [70,71,72]
    DIG: []
    ACC_EN: 0  # set to 1 to enable internal accelerometer channels
    STAT: 74
    COUNT: 75
 B: 
   Enable: true
   Unit: "SAGAB"
   # Unit: "SAGA1"
   FileType: ".mat"
   Array: 
    Type: "Large Grid"
    Location: "B_DISTFLX"
   Trigger:
    Channel: 73
    Bit: 1
   Channels:
    CREF: 1
    UNI: [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65]
    BIP: [66,67,68,69]
    AUX: [70,71,72]
    DIG: []
    ACC_EN: 0  # set to 1 to enable internal accelerometer channels
    STAT: 74
    COUNT: 75
Default:
 # Interface: "optical"
 Interface: "electrical"
 Folder: "C:/Data/TMSi"
 # Folder: "C:/Users/Daily/TempData"
 Enable_Teensy: true 
 N_Host_Devices_Per_Controller: 2
 HPF_Cutoff_Frequency: 100 # Hz
 Device_Reference_Mode: 'average' # must be 'average' (uses CAR from SAGA device) or 'common' (with separate CREF)
 CAR_Mode: 0 # 0: none; 1: 8x8 grid; 2: 2x textile 4x8 grids; 3: del2 after interp2
 Interpolate_Grid: true # Only applies if CAR_Mode is set to 3
 Subject: "Default"
 Sample_Rate: 4000
 Sync_Bit: 7
 File_Type: ".mat"
 N_Samples_Recording: 240000 # Save/pre-allocate in 1-minute chunks.
 Sample_Loop_Pause_Duration: 0.020
 Calibration_State: "x2dof_calibrated"
 Calibration_File: "configurations/calibration/2DOF_Calibrated.mat"
 MVC_Sample_Iterations: 10
 N_Spike_Channels: 64
 Spike_Detector: true
 Threshold_Deviations: 2.5
 Save_Parameters: true
 Rate_Smoothing_Alpha: [0.02] 
 Artifact_Channel_Proportion_Threshold: 0.4
 Minimum_RMS_Per_Channel: 1.0 # microvolts
 Pose_Threshold: 1.5
 Pose_Smoothing_Alpha: 0.25
 Pose_Deadzone_Threshold: 5
 Noise_Cluster_ID: 13
Accelerometer:
 Enable: false
 Differential: false 
 SAGA: "A"
Triggers:
 Enable: true
GUI:
 Color:
  A: "r"
  B: "b"
 N_Samples: 1000
 Offset: 100 
 TriggerBound: 256
 Squiggles: 
  Enable: true
  HPF_Mode: false
  A: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68]
  B: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68]
 Single:
  Enable: false   
  SAGA: "A"
  Channel: 65
 Calibration:
  Enable: false   
UDP:
 Socket:
  StreamService:
   # Address: "192.168.88.100"
   # Address: "127.0.0.1"
   Address: "10.0.0.102" # multicast on LAN
   Port: 
    state: 3030
    name: 3031
    params: 3036
  RecordingControllerGUI:
   # Address: "192.168.88.101"
   # Address: "127.0.0.1"
   Address: "10.0.0.100" # multicast on LAN
   Port: 3050
  GesturesGUI:
   Address: "10.0.0.100" # multicast on LAN
   Port: 4050
TCP:
 SpikeServer:
  # Address: "127.168.88.100"
  Address: "127.0.0.1"
  Port: 6050
 ControlServer:
  # Address: "192.168.88.101"
  Address: "127.0.0.1"
  Port: 6051
 RMSServer:
  # Address: "192.168.88.100"
  Address: "127.0.0.1"
  Port: 6052
 XBoxServer:
  # Address: "192.168.88.101"
  Address: "127.0.0.1"
  Port: 6053
 UnityStateServer: 
  # Address: "192.168.88.101"
  Address: "127.0.0.1"
  Port: 6054
 UnityControllerServer: 
  # Address: "192.168.88.101"
  Address: "127.0.0.1"
  Port: 6055 
 MUAPServer: 
  # Address: "192.168.88.100"
  Address: "127.0.0.1"
  Port: 6056
 SquiggleServer: 
  # Address: "192.168.88.100"
  Address: "127.0.0.1"
  Port: 6057